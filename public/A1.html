<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTIMED - 진단 및 해결 방안</title>
    <style>
        /* 기본 스타일 */
    </style>
</head>
<body>

    <h1>ULTIMED</h1>

    <!-- 진단 결과 섹션 -->
    <div id="diagnosis">진단 결과가 여기에 표시됩니다.</div>

    <!-- 해결 방안 섹션 -->
    <div id="solution">해결 방안이 여기에 표시됩니다.</div>

    <script>
        async function fetchDiagnosis(prompt) {
            const response = await fetch('https://api.github.com/repos/YOUR_GITHUB_USERNAME/YOUR_REPO_NAME/actions/workflows/openai-request.yml/dispatches', {
                method: 'POST',
                headers: {
                    'Authorization': 'Bearer YOUR_GITHUB_TOKEN', // GitHub Personal Access Token 입력
                    'Accept': 'application/vnd.github.v3+json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    ref: 'main', // main 브랜치에 대한 요청
                    inputs: { prompt: prompt }
                })
            });

            if (response.ok) {
                const result = await response.json();
                document.getElementById('diagnosis').textContent = result.result;
            } else {
                document.getElementById('diagnosis').textContent = '오류 발생';
            }
        }

        const prompt = '환자의 증상을 설명해주세요.';
        fetchDiagnosis(prompt);
    </script>

</body>
</html>
